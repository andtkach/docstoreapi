image:
  file: .gitpod.Dockerfile

tasks:

  - name: Restore
    init: |
      dotnet dev-certs https 
      dotnet restore backend/DocStore.sln

  - name: Build
    init: dotnet build backend/DocStore.sln

  - name: Docker
    command: docker-compose -f backend/docker-compose-db.yml up

  - name: Run
    command: dotnet run --project backend/src/WebApi/WebApi.csproj

vscode:
  extensions:
    - muhammad-sammy.csharp

ports:

  - port: 5002
    onOpen: "ignore"
    name: ssl port
    description: Web API

  - port: 5001
    onOpen: "ignore"

  - port: 5000
    onOpen: "ignore"

  - port: 5432
    name: db port
    description: Pstrgres
    onOpen: "ignore"